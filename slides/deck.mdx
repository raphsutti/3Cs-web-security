export { default as theme } from "./src";
import { Head, Image } from "mdx-deck";
import {
  Frontpage,
  Lastpage,
  Layout,
  LayoutNoFooter,
  Split,
  BGImage,
} from "./src";
import { CodeSurfer } from "mdx-deck-code-surfer";
import nightOwl from "prism-react-renderer/themes/nightOwl";

<Head>
  <title>Web security 101: Cookies, CSRF, CORS, and XSS</title>
</Head>

<BGImage src={require("file-loader!./images/sesamestreet2.jpg")} />

<Frontpage>

# Today's letter is C

## Cookies, CSRF, CORS, and XSS

### Web security 101

</Frontpage>

---

export default Layout;

# My name is Raph

---

export default Split;

<img src={require("file-loader!./images/codeclub.jpg")} />

- ~~Mechanical Engineer~~
- ~~GRC Security~~
- Developer
- Really like learning
- Really like teaching

---

export default Layout;

## Cookie

## XSS

## CSRF

## CORS

---

export default Layout;

What is a cookie?

---

export default Layout;

Back in the old days

<img src={require("file-loader!./images/grandpa.gif")} />

---

export default Layout;

Simpler times

- No username/passwords
- No need to keep track of who you are
- No big risks of getting hacked

---

export default Layout;

Now

- Complex web applications
- We need to keep track of logged on users
- Hide all the secrets
- Stop all the unauthorised users

---

export default Layout;

<img src={require("file-loader!./images/oprahcookie.jpg")} />

---

export default Layout;

<img src={require("file-loader!./images/buthow.jpg")} />

---

export default Layout;

<img src={require("file-loader!./images/cookie1.png")} />

---

export default Layout;

<img src={require("file-loader!./images/cookie2.png")} />

---

export default Layout;

<img src={require("file-loader!./images/cookie3.png")} />

---

export default Layout;

<img src={require("file-loader!./images/cookie4.png")} />

---

export default Layout;

<img src={require("file-loader!./images/momentslater.jpg")} />

---

export default Layout;

<img src={require("file-loader!./images/cookie5.png")} />

---

export default Layout;

<img src={require("file-loader!./images/cookie6.png")} />

---

export default Layout;

<img src={require("file-loader!./images/demogods.png")} />

Attack and defence: Bad cookie value

http://localhost:2021/

---

export default Layout;

What is Cross Site Scripting (XSS)?

---

export default Layout;

Web application uses untrusted user input without validation or encoding

- eg. `<` can be encoded to `&lt;`

- Without encoding, browser will go ahead and run `<script>` as scripts

```notes
Type of injection, in which malicious scripts are injected into otherwise benign and trusted websites.
XSS attacks occur when an attacker uses a web application to send malicious code, generally in the form of a browser side script
Flaws occur anywhere a web application uses input from a user within the output it generates without validating or encoding it.
```

---

export default Layout;

<img src={require("file-loader!./images/demogods2.png")} />

XSS to exfil cookies

http://localhost:2021/

---

export default LayoutNoFooter;

<CodeSurfer
  theme={nightOwl}
  language="javascript"
  code={`
ctx.cookies.set("sessionId", nextSessionId, {
  httpOnly: false,
  secure: false,
  sameSite: "none",
  path: "/",
});
`}
/>

```notes
httpOnly - cookie accesible via javascript
secure - HTTPS
sameSite - cookie sending depending on sites
```

---

export default Layout;

## ~~Cookie~~

## XSS

## CSRF

## CORS

---

export default Layout;

## ~~Cookie~~

## ~~XSS~~

## CSRF

## CORS

---

export default Layout;

## ~~Cookie~~

## ~~XSS~~

## ~~CSRF~~

## CORS

---

export default Split;

- Javascript
- Typescript
- Ruby
- PHP
- Python
- Java
- C/C++

* Perl
* .NET
* Erlang
* Elixir
* Haskell
* Rust
* Lua

---

export default LayoutNoFooter;

<Lastpage></Lastpage>

# Thank You
